<h1>Browse Accommodations</h1>

<form method="get">
    <input type="text" name="type" placeholder="Type" value="{{ filters.type }}">
    <input type="number" name="max_price" placeholder="Max Price" value="{{ filters.max_price }}">
    <input type="number" step="0.1" name="max_distance" placeholder="Max Distance (km)" value="{{ filters.max_distance }}">

    <label>Sort by:</label>
    <select name="sort_by" onchange="this.form.submit()">
        <option value="">-- Select --</option>
        <option value="price" {% if filters.sort_by == 'price' %}selected{% endif %}>Price</option>
        <option value="distance" {% if filters.sort_by == 'distance' %}selected{% endif %}>Distance</option>
    </select>

    <button type="submit">Search</button>
</form>

<hr/>

{% if accommodations %}
    {% for acc in accommodations %}
        <div style="margin-bottom: 20px;">
            <h3>{{ acc.type }} â€” {{ acc.price }} HKD</h3>
            <p>Distance: {{ acc.distance }} km</p>
            <a href="{% url 'accommodation_detail' acc.accommodation_id %}">View Details</a>
        </div>
    {% endfor %}
{% else %}
    <p>No accommodations found.</p>
{% endif %}